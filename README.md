<div align="center">
  <img src="custom_components/broadlink_curtain/logo.svg" alt="Broadlink Curtain Logo" width="200"/>

  # åšè”çª—å¸˜ Home Assistant è‡ªå®šä¹‰ç»„ä»¶

  é€šè¿‡åšè”å°„é¢‘é¥æ§å™¨æ§åˆ¶çª—å¸˜ï¼Œæ”¯æŒç²¾ç¡®ä½ç½®æ§åˆ¶å’Œå®æ—¶è¿›åº¦æ˜¾ç¤º

  [![Home Assistant](https://img.shields.io/badge/Home%20Assistant-2023.1+-blue.svg)](https://www.home-assistant.io/)
  [![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)
  [![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
  [![hacs](https://img.shields.io/badge/HACS-Custom-orange.svg)](https://github.com/hacs/integration)

  [![Open your Home Assistant instance and open a repository inside the Home Assistant Community Store.](https://my.home-assistant.io/badges/hacs_repository.svg)](https://my.home-assistant.io/redirect/hacs_repository/?owner=woooxxs&repository=broadlink_curtain&category=integration)
</div>

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ¯ **ç²¾ç¡®ä½ç½®æ§åˆ¶** - 0-100%ä»»æ„ä½ç½®ï¼ŒåŸºäºæ—¶é—´è®¡ç®—
- ğŸ”„ **å®æ—¶è¿›åº¦æ˜¾ç¤º** - ç§»åŠ¨è¿‡ç¨‹ä¸­æ¯0.5ç§’æ›´æ–°ä½ç½®
- ğŸšï¸ **æ°´å¹³æ»‘å—** - å·¦å³æ‹–åŠ¨ï¼Œæ¨¡æ‹Ÿçª—å¸˜å¼€åˆ
- ğŸ¨ **å¿«æ·æŒ‰é’®** - 25%/50%/75%/100%ä¸€é”®åˆ°ä½
- ğŸ’¾ **ä½ç½®æŒä¹…åŒ–** - é‡å¯åè‡ªåŠ¨æ¢å¤ä½ç½®
- ğŸ” **è‡ªåŠ¨å‘ç°** - åªéœ€IPåœ°å€ï¼Œè‡ªåŠ¨è·å–MAC

## ğŸ¬ æ•ˆæœé¢„è§ˆ

### è‡ªå®šä¹‰å¡ç‰‡ï¼ˆæ¨èï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    çª—å¸˜å¿«æ·æ§åˆ¶              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          50%                 â”‚  â† å¤§å·ä½ç½®æ˜¾ç¤º
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    çŠ¶æ€: å·²æ‰“å¼€              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â† å…³é—­  â•â•â•â—â•â•â•  æ‰“å¼€ â†’    â”‚  â† æ°´å¹³æ»‘å—ï¼ˆå®æ—¶æ›´æ–°ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [25%] [50%] [75%] [100%]   â”‚  â† å¿«æ·æŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**:
- æ°´å¹³æ»‘å—ï¼ˆå·¦å³ç§»åŠ¨ï¼‰
- å®æ—¶è¿›åº¦æ›´æ–°ï¼ˆæ¯0.5ç§’ï¼‰
- å››ä¸ªå¿«æ·ä½ç½®æŒ‰é’®
- å¤§å·ä½ç½®æ˜¾ç¤ºï¼ˆ48pxï¼‰

## ğŸ“¦ å®‰è£…æ–¹æ³•

### æ–¹æ³•1: é€šè¿‡HACSå®‰è£…ï¼ˆæ¨èï¼‰

[![Open your Home Assistant instance and open a repository inside the Home Assistant Community Store.](https://my.home-assistant.io/badges/hacs_repository.svg)](https://my.home-assistant.io/redirect/hacs_repository/?owner=woooxxs&repository=broadlink_curtain&category=integration)

**æˆ–è€…æ‰‹åŠ¨æ·»åŠ **:

1. æ‰“å¼€HACS â†’ é›†æˆ
2. ç‚¹å‡»å³ä¸Šè§’èœå• â†’ è‡ªå®šä¹‰å­˜å‚¨åº“
3. è¾“å…¥ä»“åº“åœ°å€ï¼š`https://github.com/woooxxs/broadlink_curtain`
4. ç±»åˆ«é€‰æ‹©ï¼š`Integration`
5. ç‚¹å‡»"æ·»åŠ "
6. æœç´¢"åšè”çª—å¸˜"å¹¶å®‰è£…
7. é‡å¯Home Assistant

### æ–¹æ³•2: æ‰‹åŠ¨å®‰è£…

```bash
# å¤åˆ¶ç»„ä»¶åˆ°Home Assistanté…ç½®ç›®å½•
cp -r custom_components/broadlink_curtain /config/custom_components/

# å¤åˆ¶å‰ç«¯å¡ç‰‡
cp -r www/broadlink-curtain-card.js /config/www/

# é‡å¯Home Assistant
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®å‰ç«¯èµ„æº

åœ¨ `configuration.yaml` ä¸­æ·»åŠ ï¼š

```yaml
lovelace:
  mode: storage
  resources:
    - url: /local/broadlink-curtain-card.js
      type: module
```

é‡å¯Home Assistantåï¼Œèµ„æºä¼šè‡ªåŠ¨åŠ è½½ã€‚

### 2. æ·»åŠ é›†æˆ

1. è¿›å…¥ **è®¾ç½®** â†’ **è®¾å¤‡ä¸æœåŠ¡** â†’ **æ·»åŠ é›†æˆ**
2. æœç´¢ **"åšè”çª—å¸˜"**
3. è¾“å…¥é…ç½®ï¼š
   - **IPåœ°å€**: åšè”è®¾å¤‡IPï¼ˆå¿…å¡«ï¼‰
   - **MACåœ°å€**: ç•™ç©ºè‡ªåŠ¨è·å–
   - **çª—å¸˜åç§°**: è‡ªå®šä¹‰åç§°
   - **ç§»åŠ¨æ—¶é—´**: å®Œå…¨å¼€/å…³æ‰€éœ€ç§’æ•°
   - **å°„é¢‘ç **: å¼€/å…³/åœä¸‰ä¸ªå°„é¢‘ç 

### 3. æ·»åŠ è‡ªå®šä¹‰å¡ç‰‡

> âš ï¸ **é‡è¦**: å¡ç‰‡é…ç½®æ˜¯åœ¨ **Home Assistant ç½‘é¡µç•Œé¢** ä¸­æ“ä½œï¼Œä¸æ˜¯åœ¨æ–‡ä»¶ä¸­é…ç½®ï¼

#### åœ¨ä»ªè¡¨æ¿ä¸­æ·»åŠ ï¼ˆç½‘é¡µç•Œé¢æ“ä½œï¼‰

1. æµè§ˆå™¨æ‰“å¼€ Home Assistantï¼ˆä¾‹å¦‚ http://localhost:8123ï¼‰
2. ç‚¹å‡»å³ä¸Šè§’ **â‹®** (ä¸‰ä¸ªç‚¹) â†’ **ç¼–è¾‘ä»ªè¡¨æ¿**
3. ç‚¹å‡» **+ æ·»åŠ å¡ç‰‡**
4. å‘ä¸‹æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œç‚¹å‡» **æ‰‹åŠ¨** æˆ– **æŒ‰ä»£ç é…ç½®**
5. åœ¨ä»£ç ç¼–è¾‘æ¡†ä¸­è¾“å…¥ï¼š
   ```yaml
   type: custom:broadlink-curtain-card
   entity: cover.test
   ```
6. ç‚¹å‡» **ä¿å­˜** â†’ ç‚¹å‡»å³ä¸Šè§’ **å®Œæˆ**

#### å¡ç‰‡ç±»å‹å¯¹æ¯”

| é…ç½® | æ•ˆæœ | è¯´æ˜ |
|------|------|------|
| `type: custom:broadlink-curtain-card` | âœ… æ°´å¹³æ»‘å— + å¿«æ·æŒ‰é’® | **æ¨èä½¿ç”¨** |
| `type: cover` | âŒ å‚ç›´æ»‘å—ï¼Œæ— å¿«æ·æŒ‰é’® | é»˜è®¤å¡ç‰‡ |
| `type: entities` | âŒ åªæœ‰ç®€å•æŒ‰é’® | å®ä½“åˆ—è¡¨å¡ç‰‡ |

```yaml
# âœ… æ­£ç¡® - è‡ªå®šä¹‰å¡ç‰‡ï¼ˆæ°´å¹³æ»‘å— + å¿«æ·æŒ‰é’®ï¼‰
type: custom:broadlink-curtain-card
entity: cover.test

# âŒ é”™è¯¯ - é»˜è®¤çª—å¸˜å¡ç‰‡ï¼ˆå‚ç›´æ»‘å—ï¼‰
type: cover
entity: cover.test

# âŒ é”™è¯¯ - å®ä½“å¡ç‰‡ï¼ˆåªæœ‰ç®€å•æŒ‰é’®ï¼‰
type: entities
entities:
  - cover.test
title: çª—å¸˜
```

**âš ï¸ é‡è¦**: å¿…é¡»ä½¿ç”¨ `type: custom:broadlink-curtain-card` æ‰èƒ½çœ‹åˆ°æ°´å¹³æ»‘å—å’Œå¿«æ·æŒ‰é’®ï¼

#### æ›´å¤šé…ç½®ç¤ºä¾‹

> ğŸ’¡ **æç¤º**: ä¸‹é¢çš„ç¤ºä¾‹æ–‡ä»¶åªæ˜¯å‚è€ƒï¼Œéœ€è¦å¤åˆ¶åˆ° Home Assistant ç½‘é¡µç•Œé¢ä¸­ä½¿ç”¨ï¼

æŸ¥çœ‹ [examples/lovelace-card-config.yaml](examples/lovelace-card-config.yaml) äº†è§£ï¼š
- å•ä¸ªçª—å¸˜å¡ç‰‡
- å¤šä¸ªçª—å¸˜å‚ç›´å †å 
- ç½‘æ ¼å¸ƒå±€
- æ¡ä»¶æ˜¾ç¤º
- æ›´å¤šé«˜çº§é…ç½®

**è¯¦ç»†é…ç½®æ•™ç¨‹**: æŸ¥çœ‹ [å¦‚ä½•é…ç½®å¡ç‰‡.md](å¦‚ä½•é…ç½®å¡ç‰‡.md) äº†è§£å®Œæ•´çš„å›¾æ–‡æ•™ç¨‹

## ğŸ® ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æ“ä½œ

- **æ‰“å¼€/å…³é—­**: ç‚¹å‡»æŒ‰é’®å®Œå…¨æ‰“å¼€æˆ–å…³é—­
- **åœæ­¢**: ç§»åŠ¨è¿‡ç¨‹ä¸­ç‚¹å‡»åœæ­¢
- **æ»‘å—**: æ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®ï¼Œæ¾å¼€è‡ªåŠ¨ç§»åŠ¨
- **å¿«æ·æŒ‰é’®**: ç‚¹å‡»25%/50%/75%/100%å¿«é€Ÿåˆ°ä½

### è‡ªåŠ¨åŒ–ç¤ºä¾‹

```yaml
automation:
  - alias: "æ—©ä¸Šæ‰“å¼€çª—å¸˜"
    trigger:
      platform: time
      at: "07:00:00"
    action:
      service: cover.set_cover_position
      target:
        entity_id: cover.å®¢å…çª—å¸˜
      data:
        position: 80
```

æ›´å¤šé…ç½®ç¤ºä¾‹è¯·æŸ¥çœ‹ï¼š
- [Lovelaceå¡ç‰‡é…ç½®ç¤ºä¾‹](examples/lovelace-card-config.yaml) - å„ç§å¡ç‰‡å¸ƒå±€
- [å®Œæ•´é…ç½®ç¤ºä¾‹](examples/configuration.yaml) - è‡ªåŠ¨åŒ–ã€è„šæœ¬ã€åœºæ™¯ç­‰

## ğŸ§ª Dockeræµ‹è¯•ç¯å¢ƒ

```bash
# å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
cd docker
docker-compose up -d

# è®¿é—®
# Home Assistant: http://localhost:8123
# æ¨¡æ‹Ÿè®¾å¤‡: http://localhost:9000

# æµ‹è¯•é…ç½®
# IP: 172.20.0.30
# å°„é¢‘ç : deadbeef, beefdead, feedface
```

## ğŸ”§ å¸¸è§é—®é¢˜

**Q: è‡ªå®šä¹‰å¡ç‰‡ä¸æ˜¾ç¤ºï¼Ÿ**
A: æ£€æŸ¥ `configuration.yaml` ä¸­æ˜¯å¦é…ç½®äº†èµ„æºï¼Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡å¯HA

**Q: ä½ç½®ä¸å‡†ç¡®ï¼Ÿ**
A: è°ƒæ•´"ç§»åŠ¨æ—¶é—´"é…ç½®ï¼Œä½¿ç”¨ç§’è¡¨æµ‹é‡çª—å¸˜å®Œå…¨å¼€/å…³çš„å®é™…æ—¶é—´

**Q: çŠ¶æ€æ˜¾ç¤º"æœªçŸ¥"ï¼Ÿ**
A: å·²ä¿®å¤ï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬

**Q: æ»‘å—æ˜¯å‚ç›´çš„ï¼Ÿ**
A: é»˜è®¤å¡ç‰‡æ˜¯å‚ç›´çš„ï¼Œä½¿ç”¨è‡ªå®šä¹‰å¡ç‰‡è·å¾—æ°´å¹³æ»‘å—

## ğŸ“Š è°ƒè¯•æ—¥å¿—

```yaml
# configuration.yaml
logger:
  default: info
  logs:
    custom_components.broadlink_curtain: debug
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.4 (2025-11-14)
- âœ… å®æ—¶è¿›åº¦æ˜¾ç¤ºï¼ˆæ¯0.5ç§’æ›´æ–°ï¼‰
- âœ… æ°´å¹³æ»‘å—æ”¯æŒ
- âœ… ä¿®å¤çŠ¶æ€æ˜¾ç¤º"æœªçŸ¥"é—®é¢˜
- âœ… æ‰€æœ‰æŒ‰é’®å§‹ç»ˆå¯ç”¨
- âœ… æ·»åŠ logo

### v2.0
- âœ… ä½ç½®æŒä¹…åŒ–
- âœ… å¿«æ·æŒ‰é’®ï¼ˆ25%/50%/75%/100%ï¼‰
- âœ… è‡ªåŠ¨MACåœ°å€å‘ç°
- âœ… ç»Ÿä¸€ç§»åŠ¨æ—¶é—´é…ç½®

---

<div align="center">
  <sub>Built with â¤ï¸ for Home Assistant</sub>
</div>