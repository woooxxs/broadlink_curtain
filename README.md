<div align="center">
  <img src="custom_components/broadlink_curtain/logo.svg" alt="Broadlink Curtain Logo" width="200"/>

  # åšè”çª—å¸˜ Home Assistant è‡ªå®šä¹‰ç»„ä»¶

  é€šè¿‡åšè”å°„é¢‘é¥æ§å™¨æ§åˆ¶çª—å¸˜ï¼Œæ”¯æŒç²¾ç¡®ä½ç½®æ§åˆ¶å’Œå®æ—¶è¿›åº¦æ˜¾ç¤º

  [![Home Assistant](https://img.shields.io/badge/Home%20Assistant-2023.1+-blue.svg)](https://www.home-assistant.io/)
  [![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)
  [![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
  [![hacs](https://img.shields.io/badge/HACS-Custom-orange.svg)](https://github.com/hacs/integration)

  [![Open your Home Assistant instance and open a repository inside the Home Assistant Community Store.](https://my.home-assistant.io/badges/hacs_repository.svg)](https://my.home-assistant.io/redirect/hacs_repository/?owner=woooxxs&repository=broadlink_curtain&category=integration)
</div>

---

## ğŸ¯ å…¼å®¹è®¾å¤‡

æœ¬ç»„ä»¶å…¼å®¹æ‰€æœ‰æ”¯æŒåšè”å°„é¢‘é¥æ§å™¨çš„è®¾å¤‡ï¼š

- âœ… **çª—å¸˜ç”µæœº** - å°„é¢‘æ§åˆ¶çš„çª—å¸˜ç”µæœº
- âœ… **é—¨çª—æ§åˆ¶å™¨** - å°„é¢‘é—¨çª—å¼€å…³
- âœ… **å·å¸˜é—¨** - è½¦åº“é—¨ã€å·å¸˜é—¨ç­‰
- âœ… **å…¶ä»–å°„é¢‘è®¾å¤‡** - ä»»ä½•æ”¯æŒå¼€/å…³/åœä¸‰ä¸ªå°„é¢‘ç çš„è®¾å¤‡

> ğŸ’¡ **åŸç†**: é€šè¿‡åšè” RM ç³»åˆ—å°„é¢‘é¥æ§å™¨ï¼ˆå¦‚ RM4 Proã€RM4 Miniï¼‰å‘é€å°„é¢‘ä¿¡å·ï¼Œæ§åˆ¶ä»»ä½•æ”¯æŒå°„é¢‘é¥æ§çš„è®¾å¤‡

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ¯ **ç²¾ç¡®ä½ç½®æ§åˆ¶** - 0-100%ä»»æ„ä½ç½®ï¼ŒåŸºäºæ—¶é—´è®¡ç®—
- ğŸ”„ **å®æ—¶è¿›åº¦æ˜¾ç¤º** - ç§»åŠ¨è¿‡ç¨‹ä¸­æ¯0.5ç§’æ›´æ–°ä½ç½®
- ğŸ¨ **ç´§å‡‘å¡ç‰‡** - ç±»åŸç”Ÿæ ·å¼ï¼Œç‚¹å‡»å±•å¼€è¯¦ç»†æ§åˆ¶
- ğŸšï¸ **æ°´å¹³æ»‘å—** - å·¦å³æ‹–åŠ¨ï¼Œæ¨¡æ‹Ÿçª—å¸˜å¼€åˆ
- ğŸ”˜ **å¿«æ·æŒ‰é’®** - å…¨å¼€/å…¨å…³/æš‚åœ + 25%/50%/75%
- ğŸ’¾ **ä½ç½®æŒä¹…åŒ–** - é‡å¯åè‡ªåŠ¨æ¢å¤ä½ç½®
- ğŸ” **è‡ªåŠ¨å‘ç°** - åªéœ€IPåœ°å€ï¼Œè‡ªåŠ¨è·å–MAC

## ğŸ¬ æ•ˆæœé¢„è§ˆ

### ç´§å‡‘æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—”  çª—å¸˜          â”â”â”â”â”â—â”â”â”â”â”        50%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**:
- ç±»åŸç”Ÿ Home Assistant æ ·å¼
- MDI å›¾æ ‡ï¼ˆæ ¹æ®ä½ç½®è‡ªåŠ¨åˆ‡æ¢ï¼‰
- å¯ç‚¹å‡»è¿›åº¦æ¡ç›´æ¥è®¾ç½®ä½ç½®
- ç‚¹å‡»å›¾æ ‡å±•å¼€è¯¦ç»†æ§åˆ¶

### å±•å¼€æ¨¡å¼ï¼ˆç‚¹å‡»å›¾æ ‡åï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â†  çª—å¸˜æ§åˆ¶                        â”‚
â”‚                                     â”‚
â”‚            50%                      â”‚
â”‚          å·²åœæ­¢                     â”‚
â”‚                                     â”‚
â”‚  å…³é—­  â”â”â”â”â”â—â”â”â”â”â”  æ‰“å¼€           â”‚
â”‚                                     â”‚
â”‚  [ğŸ—” å…¨å¼€] [â¹ æš‚åœ] [ğŸ—• å…¨å…³]      â”‚
â”‚                                     â”‚
â”‚  [25%]    [50%]    [75%]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**:
- æ°´å¹³æ»‘å—ï¼ˆå·¦å³æ‹–åŠ¨ï¼‰
- å®æ—¶è¿›åº¦æ›´æ–°ï¼ˆæ¯0.5ç§’ï¼‰
- å…¨å¼€/å…¨å…³/æš‚åœæ§åˆ¶æŒ‰é’®
- ä¸‰ä¸ªå¿«æ·ä½ç½®æŒ‰é’®ï¼ˆ25%/50%/75%ï¼‰
- ç´§å‡‘çš„ç™¾åˆ†æ¯”æ˜¾ç¤º

## ğŸ“¦ å®‰è£…æ–¹æ³•

### æ–¹æ³•1: é€šè¿‡HACSå®‰è£…ï¼ˆæ¨èï¼‰

[![Open your Home Assistant instance and open a repository inside the Home Assistant Community Store.](https://my.home-assistant.io/badges/hacs_repository.svg)](https://my.home-assistant.io/redirect/hacs_repository/?owner=woooxxs&repository=broadlink_curtain&category=integration)

**æˆ–è€…æ‰‹åŠ¨æ·»åŠ **:

1. æ‰“å¼€HACS â†’ é›†æˆ
2. ç‚¹å‡»å³ä¸Šè§’èœå• â†’ è‡ªå®šä¹‰å­˜å‚¨åº“
3. è¾“å…¥ä»“åº“åœ°å€ï¼š`https://github.com/woooxxs/broadlink_curtain`
4. ç±»åˆ«é€‰æ‹©ï¼š`Integration`
5. ç‚¹å‡»"æ·»åŠ "
6. æœç´¢"åšè”çª—å¸˜"å¹¶å®‰è£…
7. é‡å¯Home Assistant

> ğŸ’¡ **è‡ªå®šä¹‰å¡ç‰‡**: HACS å®‰è£…æ—¶ä¼šè‡ªåŠ¨åŒ…å«è‡ªå®šä¹‰å¡ç‰‡æ–‡ä»¶ï¼Œæ— éœ€å•ç‹¬å®‰è£…

### æ–¹æ³•2: æ‰‹åŠ¨å®‰è£…

```bash
# å¤åˆ¶ç»„ä»¶åˆ°Home Assistanté…ç½®ç›®å½•
cp -r custom_components/broadlink_curtain /config/custom_components/

# å¤åˆ¶å‰ç«¯å¡ç‰‡ï¼ˆå¯é€‰ï¼Œç”¨äºè‡ªå®šä¹‰UIï¼‰
cp www/broadlink-curtain-card.js /config/www/

# é‡å¯Home Assistant
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®å‰ç«¯èµ„æºï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³ä½¿ç”¨è‡ªå®šä¹‰å¡ç‰‡ï¼Œéœ€è¦æ³¨å†Œå‰ç«¯èµ„æºã€‚

**æ–¹æ³• A: é€šè¿‡ UI æ³¨å†Œï¼ˆæ¨èï¼‰**

1. è¿›å…¥ **è®¾ç½®** â†’ **ä»ªè¡¨æ¿** â†’ ç‚¹å‡»å³ä¸Šè§’ **â‹®** â†’ **èµ„æº**
2. ç‚¹å‡»å³ä¸‹è§’ **+ æ·»åŠ èµ„æº**
3. å¡«å†™ï¼š
   - **URL**: `/local/broadlink-curtain-card.js`
   - **èµ„æºç±»å‹**: `JavaScript æ¨¡å—`
4. ç‚¹å‡» **åˆ›å»º**
5. åˆ·æ–°æµè§ˆå™¨ï¼ˆ`Ctrl+F5` æˆ– `Cmd+Shift+R`ï¼‰

**æ–¹æ³• B: é€šè¿‡é…ç½®æ–‡ä»¶**

åœ¨ `configuration.yaml` ä¸­æ·»åŠ ï¼š

```yaml
lovelace:
  mode: storage
  resources:
    - url: /local/broadlink-curtain-card.js
      type: module
```

é‡å¯Home Assistantåï¼Œèµ„æºä¼šè‡ªåŠ¨åŠ è½½ã€‚

### 2. æ·»åŠ é›†æˆ

1. è¿›å…¥ **è®¾ç½®** â†’ **è®¾å¤‡ä¸æœåŠ¡** â†’ **æ·»åŠ é›†æˆ**
2. æœç´¢ **"åšè”çª—å¸˜"**
3. è¾“å…¥é…ç½®ï¼š
   - **IPåœ°å€**: åšè”è®¾å¤‡IPï¼ˆå¿…å¡«ï¼‰
   - **MACåœ°å€**: ç•™ç©ºè‡ªåŠ¨è·å–
   - **çª—å¸˜åç§°**: è‡ªå®šä¹‰åç§°
   - **ç§»åŠ¨æ—¶é—´**: å®Œå…¨å¼€/å…³æ‰€éœ€ç§’æ•°
   - **å°„é¢‘ç **: å¼€/å…³/åœä¸‰ä¸ªå°„é¢‘ç 

### 3. æ·»åŠ è‡ªå®šä¹‰å¡ç‰‡

> âš ï¸ **é‡è¦**: å¡ç‰‡é…ç½®æ˜¯åœ¨ **Home Assistant ç½‘é¡µç•Œé¢** ä¸­æ“ä½œï¼Œä¸æ˜¯åœ¨æ–‡ä»¶ä¸­é…ç½®ï¼

#### åœ¨ä»ªè¡¨æ¿ä¸­æ·»åŠ ï¼ˆç½‘é¡µç•Œé¢æ“ä½œï¼‰

1. æµè§ˆå™¨æ‰“å¼€ Home Assistantï¼ˆä¾‹å¦‚ http://localhost:8123ï¼‰
2. ç‚¹å‡»å³ä¸Šè§’ **â‹®** (ä¸‰ä¸ªç‚¹) â†’ **ç¼–è¾‘ä»ªè¡¨æ¿**
3. ç‚¹å‡» **+ æ·»åŠ å¡ç‰‡**
4. å‘ä¸‹æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œç‚¹å‡» **æ‰‹åŠ¨** æˆ– **æŒ‰ä»£ç é…ç½®**
5. åœ¨ä»£ç ç¼–è¾‘æ¡†ä¸­è¾“å…¥ï¼š
   ```yaml
   type: custom:broadlink-curtain-card
   entity: cover.test
   ```
   > ğŸ’¡ å¦‚æœæç¤º"æ²¡æœ‰å¯è§†åŒ–ç¼–è¾‘å™¨"ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼è‡ªå®šä¹‰å¡ç‰‡åªèƒ½ç”¨ä»£ç é…ç½®ã€‚
6. ç‚¹å‡» **ä¿å­˜** â†’ ç‚¹å‡»å³ä¸Šè§’ **å®Œæˆ**

#### å¡ç‰‡ç±»å‹å¯¹æ¯”

| é…ç½® | æ•ˆæœ | è¯´æ˜ |
|------|------|------|
| `type: custom:broadlink-curtain-card` | âœ… æ°´å¹³æ»‘å— + å¿«æ·æŒ‰é’® | **æ¨èä½¿ç”¨** |
| `type: cover` | âŒ å‚ç›´æ»‘å—ï¼Œæ— å¿«æ·æŒ‰é’® | é»˜è®¤å¡ç‰‡ |
| `type: entities` | âŒ åªæœ‰ç®€å•æŒ‰é’® | å®ä½“åˆ—è¡¨å¡ç‰‡ |

```yaml
# âœ… æ­£ç¡® - è‡ªå®šä¹‰å¡ç‰‡ï¼ˆæ°´å¹³æ»‘å— + å¿«æ·æŒ‰é’®ï¼‰
type: custom:broadlink-curtain-card
entity: cover.test

# âŒ é”™è¯¯ - é»˜è®¤çª—å¸˜å¡ç‰‡ï¼ˆå‚ç›´æ»‘å—ï¼‰
type: cover
entity: cover.test

# âŒ é”™è¯¯ - å®ä½“å¡ç‰‡ï¼ˆåªæœ‰ç®€å•æŒ‰é’®ï¼‰
type: entities
entities:
  - cover.test
title: çª—å¸˜
```

**âš ï¸ é‡è¦**: å¿…é¡»ä½¿ç”¨ `type: custom:broadlink-curtain-card` æ‰èƒ½çœ‹åˆ°æ°´å¹³æ»‘å—å’Œå¿«æ·æŒ‰é’®ï¼

#### æ›´å¤šé…ç½®ç¤ºä¾‹

> ğŸ’¡ **æç¤º**: ä¸‹é¢çš„ç¤ºä¾‹æ–‡ä»¶åªæ˜¯å‚è€ƒï¼Œéœ€è¦å¤åˆ¶åˆ° Home Assistant ç½‘é¡µç•Œé¢ä¸­ä½¿ç”¨ï¼

æŸ¥çœ‹ [examples/lovelace-card-config.yaml](examples/lovelace-card-config.yaml) äº†è§£ï¼š
- å•ä¸ªçª—å¸˜å¡ç‰‡
- å¤šä¸ªçª—å¸˜å‚ç›´å †å 
- ç½‘æ ¼å¸ƒå±€
- æ¡ä»¶æ˜¾ç¤º
- æ›´å¤šé«˜çº§é…ç½®

**è¯¦ç»†é…ç½®æ•™ç¨‹**: æŸ¥çœ‹ [å¦‚ä½•é…ç½®å¡ç‰‡.md](å¦‚ä½•é…ç½®å¡ç‰‡.md) äº†è§£å®Œæ•´çš„å›¾æ–‡æ•™ç¨‹

## ğŸ® ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æ“ä½œ

- **æ‰“å¼€/å…³é—­**: ç‚¹å‡»æŒ‰é’®å®Œå…¨æ‰“å¼€æˆ–å…³é—­
- **åœæ­¢**: ç§»åŠ¨è¿‡ç¨‹ä¸­ç‚¹å‡»åœæ­¢
- **æ»‘å—**: æ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®ï¼Œæ¾å¼€è‡ªåŠ¨ç§»åŠ¨
- **å¿«æ·æŒ‰é’®**: ç‚¹å‡»25%/50%/75%/100%å¿«é€Ÿåˆ°ä½

### è‡ªåŠ¨åŒ–ç¤ºä¾‹

```yaml
automation:
  - alias: "æ—©ä¸Šæ‰“å¼€çª—å¸˜"
    trigger:
      platform: time
      at: "07:00:00"
    action:
      service: cover.set_cover_position
      target:
        entity_id: cover.å®¢å…çª—å¸˜
      data:
        position: 80
```

æ›´å¤šé…ç½®ç¤ºä¾‹è¯·æŸ¥çœ‹ï¼š
- [Lovelaceå¡ç‰‡é…ç½®ç¤ºä¾‹](examples/lovelace-card-config.yaml) - å„ç§å¡ç‰‡å¸ƒå±€
- [å®Œæ•´é…ç½®ç¤ºä¾‹](examples/configuration.yaml) - è‡ªåŠ¨åŒ–ã€è„šæœ¬ã€åœºæ™¯ç­‰

## ğŸ§ª Dockeræµ‹è¯•ç¯å¢ƒ

```bash
# å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
cd docker
docker-compose up -d

# è®¿é—®
# Home Assistant: http://localhost:8123
# æ¨¡æ‹Ÿè®¾å¤‡: http://localhost:9000

# æµ‹è¯•é…ç½®
# IP: 172.20.0.30
# å°„é¢‘ç : deadbeef, beefdead, feedface
```

## ğŸ”§ å¸¸è§é—®é¢˜

**Q: æç¤º"æ²¡æœ‰å¯è§†åŒ–ç¼–è¾‘å™¨"ï¼Ÿ**
A: è¿™æ˜¯æ­£å¸¸çš„ï¼è‡ªå®šä¹‰å¡ç‰‡åªèƒ½ç”¨ä»£ç é…ç½®ï¼Œä¸æ˜¯é”™è¯¯ï¼Œç»§ç»­ä½¿ç”¨å³å¯

**Q: è‡ªå®šä¹‰å¡ç‰‡ä¸æ˜¾ç¤ºï¼Ÿ**
A: æ£€æŸ¥ `configuration.yaml` ä¸­æ˜¯å¦é…ç½®äº†èµ„æºï¼Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡å¯HA

**Q: ä½ç½®ä¸å‡†ç¡®ï¼Ÿ**
A: è°ƒæ•´"ç§»åŠ¨æ—¶é—´"é…ç½®ï¼Œä½¿ç”¨ç§’è¡¨æµ‹é‡çª—å¸˜å®Œå…¨å¼€/å…³çš„å®é™…æ—¶é—´

**Q: çŠ¶æ€æ˜¾ç¤º"æœªçŸ¥"ï¼Ÿ**
A: å·²ä¿®å¤ï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬

**Q: æ»‘å—æ˜¯å‚ç›´çš„ï¼Ÿ**
A: é»˜è®¤å¡ç‰‡æ˜¯å‚ç›´çš„ï¼Œä½¿ç”¨è‡ªå®šä¹‰å¡ç‰‡è·å¾—æ°´å¹³æ»‘å—

## ğŸ“Š è°ƒè¯•æ—¥å¿—

```yaml
# configuration.yaml
logger:
  default: info
  logs:
    custom_components.broadlink_curtain: debug
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.5 (2025-11-14)
- âœ… å…¨æ–°ç´§å‡‘å¡ç‰‡è®¾è®¡ï¼ˆç±»åŸç”Ÿæ ·å¼ï¼‰
- âœ… MDI å›¾æ ‡æ”¯æŒï¼ˆè‡ªåŠ¨åˆ‡æ¢å¼€/å…³å›¾æ ‡ï¼‰
- âœ… å¯ç‚¹å‡»è¿›åº¦æ¡ç›´æ¥è®¾ç½®ä½ç½®
- âœ… å…¨å¼€/å…¨å…³/æš‚åœæ§åˆ¶æŒ‰é’®
- âœ… ä¼˜åŒ–å±•å¼€æ¨¡å¼å¸ƒå±€ï¼ˆæŒ‰é’®ä¸€æ’æ˜¾ç¤ºï¼‰
- âœ… è¿›åº¦æ¡å’Œç™¾åˆ†æ¯”åŒè¡Œæ˜¾ç¤º
- âœ… å…¼å®¹æ€§è¯´æ˜ï¼ˆæ”¯æŒå°„é¢‘é—¨çª—ç­‰è®¾å¤‡ï¼‰

### v2.4 (2025-11-14)
- âœ… å®æ—¶è¿›åº¦æ˜¾ç¤ºï¼ˆæ¯0.5ç§’æ›´æ–°ï¼‰
- âœ… æ°´å¹³æ»‘å—æ”¯æŒ
- âœ… ä¿®å¤çŠ¶æ€æ˜¾ç¤º"æœªçŸ¥"é—®é¢˜
- âœ… æ‰€æœ‰æŒ‰é’®å§‹ç»ˆå¯ç”¨
- âœ… æ·»åŠ logo

### v2.0
- âœ… ä½ç½®æŒä¹…åŒ–
- âœ… å¿«æ·æŒ‰é’®ï¼ˆ25%/50%/75%/100%ï¼‰
- âœ… è‡ªåŠ¨MACåœ°å€å‘ç°
- âœ… ç»Ÿä¸€ç§»åŠ¨æ—¶é—´é…ç½®

---

<div align="center">
  <sub>Built with â¤ï¸ for Home Assistant</sub>
</div>