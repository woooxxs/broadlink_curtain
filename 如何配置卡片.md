# 🎯 如何配置自定义卡片

## ⚠️ 重要说明

**卡片配置不是在文件中配置的！**

卡片配置是在 **Home Assistant 的网页界面** 中通过可视化编辑器配置的。

---

## 📍 配置位置

### ❌ 错误理解
```
以为要在某个 .yaml 文件中配置卡片
```

### ✅ 正确方法
```
在 Home Assistant 网页界面的仪表板中配置
```

---

## 🚀 详细配置步骤（带截图说明）

### 步骤1: 打开 Home Assistant
```
浏览器访问: http://你的HA地址:8123
例如: http://localhost:8123
```

### 步骤2: 进入仪表板编辑模式
```
1. 点击左侧菜单的"概览"或任意仪表板
2. 点击右上角的 ⋮ (三个点)
3. 在下拉菜单中点击"编辑仪表板"
```

**界面示意**:
```
┌─────────────────────────────────────┐
│  Home Assistant        👤  ⋮  ←点这里│
├─────────────────────────────────────┤
│  下拉菜单:                           │
│  ┌───────────────────┐              │
│  │ 编辑仪表板  ←点这个│              │
│  │ 刷新              │              │
│  │ 原始配置编辑器     │              │
│  └───────────────────┘              │
└─────────────────────────────────────┘
```

### 步骤3: 添加新卡片
```
1. 进入编辑模式后，页面会显示蓝色的"+ 添加卡片"按钮
2. 点击"+ 添加卡片"
```

**界面示意**:
```
┌─────────────────────────────────────┐
│  ┌─────────────────┐                │
│  │ + 添加卡片  ←点这里│                │
│  └─────────────────┘                │
│                                     │
│  [现有的卡片1]                       │
│  [现有的卡片2]                       │
└─────────────────────────────────────┘
```

### 步骤4: 选择手动配置
```
1. 会弹出"添加卡片"对话框
2. 向下滚动到最底部
3. 找到并点击"手动"或"按代码配置"
```

**界面示意**:
```
┌─────────────────────────────────────┐
│  添加卡片                            │
├─────────────────────────────────────┤
│  [按类型]  [按实体]                  │
│                                     │
│  ▼ 建议的卡片                        │
│    □ 实体                           │
│    □ 按钮                           │
│    ...                              │
│                                     │
│  (向下滚动...)                       │
│                                     │
│  ┌─────────────────┐                │
│  │ 手动  ←点这个    │                │
│  └─────────────────┘                │
└─────────────────────────────────────┘
```

### 步骤5: 输入配置代码
```
1. 会出现一个代码编辑框
2. 删除默认的内容
3. 复制粘贴以下配置:
```

```yaml
type: custom:broadlink-curtain-card
entity: cover.test
```

**界面示意**:
```
┌─────────────────────────────────────┐
│  卡片配置                            │
├─────────────────────────────────────┤
│  ┌───────────────────────────────┐  │
│  │ type: custom:broadlink-curtain│  │
│  │ entity: cover.test            │  │
│  │                               │  │
│  │  ↑ 在这里输入配置               │  │
│  └───────────────────────────────┘  │
│                                     │
│  [取消]              [保存] ←点这个  │
└─────────────────────────────────────┘
```

### 步骤6: 保存配置
```
1. 点击右下角的"保存"按钮
2. 然后点击右上角的"完成"按钮退出编辑模式
```

**界面示意**:
```
┌─────────────────────────────────────┐
│  编辑仪表板              [完成] ←点这里│
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │  窗帘快捷控制                │   │
│  │  ─────────────────────       │   │
│  │         50%                  │   │
│  │  状态: 已打开                │   │
│  │  ← 关闭 ═══●═══ 打开 →      │   │
│  │  [25%] [50%] [75%] [100%]   │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

## 🎯 你提到的配置对比

### 你看到的配置（entities卡片）
```yaml
type: entities
entities:
  - cover.test
title: 窗帘
state_color: false
```

**这是什么**: 这是 Home Assistant 的默认"实体"卡片
**效果**: 只显示一个简单的实体列表，没有滑块和快捷按钮

### 应该使用的配置（自定义卡片）
```yaml
type: custom:broadlink-curtain-card
entity: cover.test
```

**这是什么**: 这是我们的自定义窗帘卡片
**效果**: 显示水平滑块 + 快捷按钮 + 大号位置显示

---

## 📊 三种卡片类型对比

### 1. 自定义窗帘卡片（推荐）✅
```yaml
type: custom:broadlink-curtain-card
entity: cover.test
```
**效果**:
```
┌─────────────────────────────┐
│    窗帘快捷控制              │
│         50%                  │
│    状态: 已打开              │
│  ← 关闭  ═══●═══  打开 →    │  ← 水平滑块
│   [25%] [50%] [75%] [100%]   │  ← 快捷按钮
└─────────────────────────────┘
```

### 2. 默认窗帘卡片
```yaml
type: cover
entity: cover.test
```
**效果**:
```
┌─────────────────────────────┐
│    窗帘                      │
│    [打开] [关闭] [停止]      │
│         ║                    │  ← 垂直滑块
│         ●                    │
│         ║                    │
└─────────────────────────────┘
```

### 3. 实体卡片（你看到的）
```yaml
type: entities
entities:
  - cover.test
title: 窗帘
```
**效果**:
```
┌─────────────────────────────┐
│    窗帘                      │
│    cover.test    [开] [关]   │  ← 只有简单按钮
└─────────────────────────────┘
```

---

## ❓ 常见问题

### Q1: 我需要修改哪个文件？
**A**: 不需要修改任何文件！在网页界面操作即可。

### Q2: examples/lovelace-card-config.yaml 是干什么的？
**A**: 这只是一个参考示例文件，告诉你可以使用哪些配置。你需要把里面的配置复制到网页界面中。

### Q3: 我已经有一个窗帘卡片了，怎么改成自定义卡片？
**A**: 
1. 进入编辑模式
2. 点击现有卡片右上角的 ⋮
3. 选择"编辑"
4. 修改 `type` 为 `custom:broadlink-curtain-card`
5. 保存

### Q4: 提示找不到 custom:broadlink-curtain-card？
**A**: 检查 `configuration.yaml` 中是否配置了资源：
```yaml
lovelace:
  mode: storage
  resources:
    - url: /local/broadlink-curtain-card.js
      type: module
```
配置后需要重启 Home Assistant。

---

## 🎬 完整流程总结

```
1. 浏览器打开 Home Assistant
   ↓
2. 点击右上角 ⋮ → 编辑仪表板
   ↓
3. 点击 + 添加卡片
   ↓
4. 向下滚动，点击"手动"
   ↓
5. 输入配置:
   type: custom:broadlink-curtain-card
   entity: cover.test
   ↓
6. 点击保存 → 完成
   ↓
7. 完成！看到水平滑块和快捷按钮
```

---

## 📝 总结

- ✅ 在 **Home Assistant 网页界面** 配置，不是在文件中
- ✅ 使用 `type: custom:broadlink-curtain-card`
- ❌ 不要使用 `type: entities` 或 `type: cover`
- 📁 `examples/` 目录只是参考示例，不是配置文件

希望这样更清楚了！

